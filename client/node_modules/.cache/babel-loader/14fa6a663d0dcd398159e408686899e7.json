{"ast":null,"code":"import _slicedToArray from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./styles.module.css\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var handleLogout=function handleLogout(){localStorage.removeItem(\"token\");window.location.reload();};// This function closes the login page and\n// opens up the window for gameplay\nfunction openGame(){window.close();var popup=window.open(\"http://localhost:5501/Gameplay/devApp.html\",\"Popup\",\"width=2000,height=2000\");if(popup){popup.opener=null;}}var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),usersList=_useState4[0],setUsersList=_useState4[1];// Fetch user data from the server on component mount\nuseEffect(function(){fetch(\"http://localhost:8080\",{method:\"GET\"}).then(function(res){return res.json();}).then(function(usersList){console.log(usersList,\"usersList\");setUsersList(usersList.usersList);});},[]);//   useEffect(() => {\n// \tconst token = localStorage.getItem(\"token\");\n// \taxios\n// \t  .get(\"/api/profile\", {\n// \t\theaders: { Authorization: `Bearer ${token}` },\n// \t  })\n// \t  .then((response) => {\n// \t\tsetUser(response.data[0]); // Assuming the profile API returns a single user object\n// \t\tsetUsersList(response.data);\n// \t\tconsole.log(usersList); // Logging the usersList state after setting it\n// \t  })\n// \t  .catch((error) => console.log(error));\n//   }, [usersList]);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:styles.main_container,children:[/*#__PURE__*/_jsx(\"nav\",{className:styles.navbar,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Black Jack\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.account_info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Account Info\"}),user&&/*#__PURE__*/_jsxs(\"div\",{children:[\"User: \",\"\".concat(user.firstName,\" \").concat(user.lastName),/*#__PURE__*/_jsx(\"br\",{}),\"Money: \",user.money]})]}),/*#__PURE__*/_jsxs(\"table\",{className:styles.table,children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Money\"})]}),usersList.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.money})]});})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:openGame,children:\"Let's get started!\"})}),/*#__PURE__*/_jsx(\"button\",{className:styles.white_btn,onClick:handleLogout,children:\"Logout\"})]});};export default Main;","map":{"version":3,"sources":["/home/anh/BlackJack/client/src/components/Main/index.jsx"],"names":["styles","useState","useEffect","axios","Main","handleLogout","localStorage","removeItem","window","location","reload","openGame","close","popup","open","opener","user","setUser","usersList","setUsersList","fetch","method","then","res","json","console","log","main_container","navbar","account_info","firstName","lastName","money","table","map","_id","email","white_btn"],"mappings":"gHAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAHD,CAKA;AACA;AACA,QAASC,CAAAA,QAAT,EAAoB,CAClBH,MAAM,CAACI,KAAP,GACA,GAAMC,CAAAA,KAAK,CAAGL,MAAM,CAACM,IAAP,CACZ,4CADY,CAEZ,OAFY,0BAAd,CAKA,GAAID,KAAJ,CAAW,CACTA,KAAK,CAACE,MAAN,CAAe,IAAf,CACD,CACF,CAED,cAAwBd,QAAQ,CAAC,IAAD,CAAhC,wCAAOe,IAAP,eAAaC,OAAb,eACA,eAAkChB,QAAQ,CAAC,EAAD,CAA1C,yCAAOiB,SAAP,eAAkBC,YAAlB,eAEA;AACAjB,SAAS,CAAC,UAAM,CACjBkB,KAAK,CAAC,uBAAD,CAA0B,CAC9BC,MAAM,CAAE,KADsB,CAA1B,CAAL,CAGCC,IAHD,CAGM,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAHN,EAICF,IAJD,CAIM,SAACJ,SAAD,CAAe,CACpBO,OAAO,CAACC,GAAR,CAAYR,SAAZ,CAAuB,WAAvB,EACAC,YAAY,CAACD,SAAS,CAACA,SAAX,CAAZ,CACA,CAPD,EAQE,CATQ,CASN,EATM,CAAT,CAUF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAME,mBACE,aAAK,SAAS,CAAElB,MAAM,CAAC2B,cAAvB,wBACE,YAAK,SAAS,CAAE3B,MAAM,CAAC4B,MAAvB,uBACE,6CADF,EADF,cAIE,aAAK,SAAS,CAAE5B,MAAM,CAAC6B,YAAvB,wBACE,oCADF,CAEGb,IAAI,eACH,0CACYA,IAAI,CAACc,SADjB,aAC8Bd,IAAI,CAACe,QADnC,eAEE,aAFF,WAGUf,IAAI,CAACgB,KAHf,GAHJ,GAJF,cAcE,eAAO,SAAS,CAAEhC,MAAM,CAACiC,KAAzB,wBACJ,mCACC,WAAI,KAAK,CAAC,KAAV,gBADD,cAEC,WAAI,KAAK,CAAC,KAAV,wBAFD,cAGC,WAAI,KAAK,CAAC,KAAV,uBAHD,cAIC,WAAI,KAAK,CAAC,KAAV,mBAJD,cAKC,WAAI,KAAK,CAAC,KAAV,mBALD,GADI,CAQHf,SAAS,CAACgB,GAAV,CAAc,SAAAlB,IAAI,CAAI,CACtB,mBACC,mCACC,oBAAKA,IAAI,CAACmB,GAAV,EADD,cAEC,oBAAKnB,IAAI,CAACc,SAAV,EAFD,cAGC,oBAAKd,IAAI,CAACe,QAAV,EAHD,cAIC,oBAAKf,IAAI,CAACoB,KAAV,EAJD,cAKC,oBAAKpB,IAAI,CAACgB,KAAV,EALD,GADD,CASA,CAVA,CARG,GAdF,cAkCE,gCACE,eAAQ,OAAO,CAAErB,QAAjB,gCADF,EAlCF,cAqCE,eAAQ,SAAS,CAAEX,MAAM,CAACqC,SAA1B,CAAqC,OAAO,CAAEhC,YAA9C,oBArCF,GADF,CA2CD,CA/FD,CAiGA,cAAeD,CAAAA,IAAf","sourcesContent":["import styles from \"./styles.module.css\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Main = () => {\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  // This function closes the login page and\n  // opens up the window for gameplay\n  function openGame() {\n    window.close();\n    const popup = window.open(\n      \"http://localhost:5501/Gameplay/devApp.html\",\n      \"Popup\",\n      `width=2000,height=2000`\n    );\n    if (popup) {\n      popup.opener = null;\n    }\n  }\n\n  const [user, setUser] = useState(null);\n  const [usersList, setUsersList] = useState([]);\n\n  // Fetch user data from the server on component mount\n  useEffect(() => {\n\tfetch(\"http://localhost:8080\", {\n\t\tmethod: \"GET\",\n\t})\n\t.then((res) => res.json())\n\t.then((usersList) => {\n\t\tconsole.log(usersList, \"usersList\");\n\t\tsetUsersList(usersList.usersList);\n\t});\n  }, []); \n//   useEffect(() => {\n// \tconst token = localStorage.getItem(\"token\");\n// \taxios\n// \t  .get(\"/api/profile\", {\n// \t\theaders: { Authorization: `Bearer ${token}` },\n// \t  })\n// \t  .then((response) => {\n// \t\tsetUser(response.data[0]); // Assuming the profile API returns a single user object\n// \t\tsetUsersList(response.data);\n// \t\tconsole.log(usersList); // Logging the usersList state after setting it\n// \t  })\n// \t  .catch((error) => console.log(error));\n//   }, [usersList]);\n\n  \n  \n\n\n  return (\n    <div className={styles.main_container}>\n      <nav className={styles.navbar}>\n        <h1>Welcome to Black Jack</h1>\n      </nav>\n      <div className={styles.account_info}>\n        <h2>Account Info</h2>\n        {user && (\n          <div>\n            User: {`${user.firstName} ${user.lastName}`}\n            <br />\n            Money: {user.money}\n          </div>\n        )}\n      </div>\n      <table className={styles.table}>\n\t\t<tr>\n\t\t\t<th scope=\"col\">ID</th>\n\t\t\t<th scope=\"col\">First Name</th>\n\t\t\t<th scope=\"col\">Last Name</th>\n\t\t\t<th scope=\"col\">Email</th>\n\t\t\t<th scope=\"col\">Money</th>\n\t\t</tr>\n\t\t{usersList.map(user => {\n\t\t\treturn (\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{user._id}</th>\n\t\t\t\t\t<td>{user.firstName}</td>\n\t\t\t\t\t<td>{user.lastName}</td>\n\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t<td>{user.money}</td>\n\t\t\t\t</tr>\n\t\t\t)\n\t\t})}\n      </table>\n      <p>\n        <button onClick={openGame}>Let's get started!</button>\n      </p>\n      <button className={styles.white_btn} onClick={handleLogout}>\n        Logout\n      </button>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}