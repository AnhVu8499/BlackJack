{"ast":null,"code":"import _asyncToGenerator from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/regenerator/index.js\";import styles from\"./styles.module.css\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var handleLogout=function handleLogout(){localStorage.removeItem(\"token\");window.location.reload();};// This function closes the login page and\n// opens up the window for gameplay\nfunction openGame(){window.close();var popup=window.open(\"http://localhost:5501/Gameplay/devApp.html\",\"Popup\",\"width=2000,height=2000\");if(popup){popup.opener=null;}}var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),usersList=_useState4[0],setUsersList=_useState4[1];// Fetch user data from the server on component mount\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8080/api/profile');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;if(response.ok){setUser(json);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();// fetch(\"http://localhost:8080\", {\n// \tmethod: \"GET\",\n// })\n// .then((res) => res.json())\n// .then((usersList) => {\n// \tconsole.log(usersList, \"usersList\");\n// \tsetUsersList(usersList.usersList);\n// });\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.main_container,children:[/*#__PURE__*/_jsx(\"nav\",{className:styles.navbar,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Black Jack\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.account_info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Account Info\"}),user&&/*#__PURE__*/_jsxs(\"div\",{children:[\"User: \",\"\".concat(user.firstName,\" \").concat(user.lastName),/*#__PURE__*/_jsx(\"br\",{}),\"Money: \",user.money]})]}),/*#__PURE__*/_jsxs(\"table\",{className:styles.table,children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Money\"})]}),user.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.money})]});})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:openGame,children:\"Let's get started!\"})}),/*#__PURE__*/_jsx(\"button\",{className:styles.white_btn,onClick:handleLogout,children:\"Logout\"})]});};export default Main;","map":{"version":3,"sources":["/home/anh/BlackJack/client/src/components/Main/index.jsx"],"names":["styles","useState","useEffect","Main","handleLogout","localStorage","removeItem","window","location","reload","openGame","close","popup","open","opener","user","setUser","usersList","setUsersList","fetchData","fetch","response","json","ok","main_container","navbar","account_info","firstName","lastName","money","table","map","_id","email","white_btn"],"mappings":"mVAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAHD,CAKA;AACA;AACA,QAASC,CAAAA,QAAT,EAAoB,CAClBH,MAAM,CAACI,KAAP,GACA,GAAMC,CAAAA,KAAK,CAAGL,MAAM,CAACM,IAAP,CACZ,4CADY,CAEZ,OAFY,0BAAd,CAKA,GAAID,KAAJ,CAAW,CACTA,KAAK,CAACE,MAAN,CAAe,IAAf,CACD,CACF,CAED,cAAwBb,QAAQ,CAAC,IAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eACA,eAAkCf,QAAQ,CAAC,EAAD,CAA1C,yCAAOgB,SAAP,eAAkBC,YAAlB,eAEA;AACAhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,SAAS,0FAAG,2KACOC,CAAAA,KAAK,CAAC,mCAAD,CADZ,QACVC,QADU,qCAEGA,CAAAA,QAAQ,CAACC,IAAT,EAFH,QAEVA,IAFU,eAIhB,GAAID,QAAQ,CAACE,EAAb,CAAiB,CACfP,OAAO,CAACM,IAAD,CAAP,CACD,CANe,sDAAH,kBAATH,CAAAA,SAAS,0CAAf,CAQAA,SAAS,GACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACE,aAAK,SAAS,CAAEnB,MAAM,CAACwB,cAAvB,wBACE,YAAK,SAAS,CAAExB,MAAM,CAACyB,MAAvB,uBACE,6CADF,EADF,cAIE,aAAK,SAAS,CAAEzB,MAAM,CAAC0B,YAAvB,wBACE,oCADF,CAEGX,IAAI,eACH,0CACYA,IAAI,CAACY,SADjB,aAC8BZ,IAAI,CAACa,QADnC,eAEE,aAFF,WAGUb,IAAI,CAACc,KAHf,GAHJ,GAJF,cAcE,eAAO,SAAS,CAAE7B,MAAM,CAAC8B,KAAzB,wBACJ,mCACC,WAAI,KAAK,CAAC,KAAV,gBADD,cAEC,WAAI,KAAK,CAAC,KAAV,wBAFD,cAGC,WAAI,KAAK,CAAC,KAAV,uBAHD,cAIC,WAAI,KAAK,CAAC,KAAV,mBAJD,cAKC,WAAI,KAAK,CAAC,KAAV,mBALD,GADI,CAQHf,IAAI,CAACgB,GAAL,CAAS,SAAAhB,IAAI,CAAI,CACjB,mBACC,mCACC,oBAAKA,IAAI,CAACiB,GAAV,EADD,cAEC,oBAAKjB,IAAI,CAACY,SAAV,EAFD,cAGC,oBAAKZ,IAAI,CAACa,QAAV,EAHD,cAIC,oBAAKb,IAAI,CAACkB,KAAV,EAJD,cAKC,oBAAKlB,IAAI,CAACc,KAAV,EALD,GADD,CASA,CAVA,CARG,GAdF,cAkCE,gCACE,eAAQ,OAAO,CAAEnB,QAAjB,gCADF,EAlCF,cAqCE,eAAQ,SAAS,CAAEV,MAAM,CAACkC,SAA1B,CAAqC,OAAO,CAAE9B,YAA9C,oBArCF,GADF,CA2CD,CAvFD,CAyFA,cAAeD,CAAAA,IAAf","sourcesContent":["import styles from \"./styles.module.css\";\nimport { useState, useEffect } from \"react\";\n\nconst Main = () => {\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  // This function closes the login page and\n  // opens up the window for gameplay\n  function openGame() {\n    window.close();\n    const popup = window.open(\n      \"http://localhost:5501/Gameplay/devApp.html\",\n      \"Popup\",\n      `width=2000,height=2000`\n    );\n    if (popup) {\n      popup.opener = null;\n    }\n  }\n\n  const [user, setUser] = useState(null);\n  const [usersList, setUsersList] = useState([]);\n\n  // Fetch user data from the server on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch('http://localhost:8080/api/profile')\n      const json = await response.json()\n\n      if (response.ok) {\n        setUser(json)\n      }\n    }\n    fetchData()\n\t// fetch(\"http://localhost:8080\", {\n\t// \tmethod: \"GET\",\n\t// })\n\t// .then((res) => res.json())\n\t// .then((usersList) => {\n\t// \tconsole.log(usersList, \"usersList\");\n\t// \tsetUsersList(usersList.usersList);\n\t// });\n  }, []); \n\n  return (\n    <div className={styles.main_container}>\n      <nav className={styles.navbar}>\n        <h1>Welcome to Black Jack</h1>\n      </nav>\n      <div className={styles.account_info}>\n        <h2>Account Info</h2>\n        {user && (\n          <div>\n            User: {`${user.firstName} ${user.lastName}`}\n            <br />\n            Money: {user.money}\n          </div>\n        )}\n      </div>\n      <table className={styles.table}>\n\t\t<tr>\n\t\t\t<th scope=\"col\">ID</th>\n\t\t\t<th scope=\"col\">First Name</th>\n\t\t\t<th scope=\"col\">Last Name</th>\n\t\t\t<th scope=\"col\">Email</th>\n\t\t\t<th scope=\"col\">Money</th>\n\t\t</tr>\n\t\t{user.map(user => {\n\t\t\treturn (\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{user._id}</th>\n\t\t\t\t\t<td>{user.firstName}</td>\n\t\t\t\t\t<td>{user.lastName}</td>\n\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t<td>{user.money}</td>\n\t\t\t\t</tr>\n\t\t\t)\n\t\t})}\n      </table>\n      <p>\n        <button onClick={openGame}>Let's get started!</button>\n      </p>\n      <button className={styles.white_btn} onClick={handleLogout}>\n        Logout\n      </button>\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}