{"ast":null,"code":"import _asyncToGenerator from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/anh/BlackJack/client/node_modules/@babel/runtime/regenerator/index.js\";import styles from\"./styles.module.css\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var handleLogout=function handleLogout(){localStorage.removeItem(\"token\");window.location.reload();};// This function closes the login page and\n// opens up the window for gameplay\nfunction openGame(){window.close();var popup=window.open(\"http://localhost:5501/Gameplay/devApp.html\",\"Popup\",\"width=2000,height=2000\");if(popup){popup.opener=null;}}var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];// Fetch user data from the server on component mount\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8080/api/profile');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;if(response.ok){setUser(json);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();// fetch(\"http://localhost:8080\", {\n// \tmethod: \"GET\",\n// })\n// .then((res) => res.json())\n// .then((usersList) => {\n// \tconsole.log(usersList, \"usersList\");\n// \tsetUsersList(usersList.usersList);\n// });\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.main_container,children:[/*#__PURE__*/_jsx(\"nav\",{className:styles.navbar,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Black Jack\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Account Info\"}),user?/*#__PURE__*/_jsxs(\"table\",{className:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Money\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:user.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{children:user.money})]},user._id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user data...\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:openGame,children:\"Let's get started!\"})}),/*#__PURE__*/_jsx(\"button\",{className:styles.white_btn,onClick:handleLogout,children:\"Logout\"})]});};export default Main;","map":{"version":3,"sources":["/home/anh/BlackJack/client/src/components/Main/index.jsx"],"names":["styles","useState","useEffect","Main","handleLogout","localStorage","removeItem","window","location","reload","openGame","close","popup","open","opener","user","setUser","fetchData","fetch","response","json","ok","main_container","navbar","table","map","firstName","money","_id","white_btn"],"mappings":"mVAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAHD,CAKA;AACA;AACA,QAASC,CAAAA,QAAT,EAAoB,CAClBH,MAAM,CAACI,KAAP,GACA,GAAMC,CAAAA,KAAK,CAAGL,MAAM,CAACM,IAAP,CACZ,4CADY,CAEZ,OAFY,0BAAd,CAKA,GAAID,KAAJ,CAAW,CACTA,KAAK,CAACE,MAAN,CAAe,IAAf,CACD,CACF,CAED,cAAwBb,QAAQ,CAAC,IAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eAEA;AACAd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,SAAS,0FAAG,2KACOC,CAAAA,KAAK,CAAC,mCAAD,CADZ,QACVC,QADU,qCAEGA,CAAAA,QAAQ,CAACC,IAAT,EAFH,QAEVA,IAFU,eAIhB,GAAID,QAAQ,CAACE,EAAb,CAAiB,CACfL,OAAO,CAACI,IAAD,CAAP,CACD,CANe,sDAAH,kBAATH,CAAAA,SAAS,0CAAf,CAQAA,SAAS,GACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACE,aAAK,SAAS,CAAEjB,MAAM,CAACsB,cAAvB,wBACE,YAAK,SAAS,CAAEtB,MAAM,CAACuB,MAAvB,uBACE,6CADF,EADF,cAIE,oCAJF,CAKGR,IAAI,cACH,eAAO,SAAS,CAAEf,MAAM,CAACwB,KAAzB,wBACA,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,kBADF,cAEE,WAAI,KAAK,CAAC,KAAV,mBAFF,GADF,EADA,cAOA,uBACGT,IAAI,CAACU,GAAL,CAAS,SAACV,IAAD,qBACR,mCACE,oBAAKA,IAAI,CAACW,SAAV,EADF,cAEE,oBAAKX,IAAI,CAACY,KAAV,EAFF,GAASZ,IAAI,CAACa,GAAd,CADQ,EAAT,CADH,EAPA,GADG,cAkBH,2CAvBJ,cAyBE,gCACE,eAAQ,OAAO,CAAElB,QAAjB,gCADF,EAzBF,cA4BE,eAAQ,SAAS,CAAEV,MAAM,CAAC6B,SAA1B,CAAqC,OAAO,CAAEzB,YAA9C,oBA5BF,GADF,CAmCD,CA9ED,CAgFA,cAAeD,CAAAA,IAAf","sourcesContent":["import styles from \"./styles.module.css\";\nimport { useState, useEffect } from \"react\";\n\nconst Main = () => {\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  // This function closes the login page and\n  // opens up the window for gameplay\n  function openGame() {\n    window.close();\n    const popup = window.open(\n      \"http://localhost:5501/Gameplay/devApp.html\",\n      \"Popup\",\n      `width=2000,height=2000`\n    );\n    if (popup) {\n      popup.opener = null;\n    }\n  }\n\n  const [user, setUser] = useState(null);\n\n  // Fetch user data from the server on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch('http://localhost:8080/api/profile')\n      const json = await response.json()\n\n      if (response.ok) {\n        setUser(json)\n      }\n    }\n    fetchData()\n\t// fetch(\"http://localhost:8080\", {\n\t// \tmethod: \"GET\",\n\t// })\n\t// .then((res) => res.json())\n\t// .then((usersList) => {\n\t// \tconsole.log(usersList, \"usersList\");\n\t// \tsetUsersList(usersList.usersList);\n\t// });\n  }, []); \n\n  return (\n    <div className={styles.main_container}>\n      <nav className={styles.navbar}>\n        <h1>Welcome to Black Jack</h1>\n      </nav>\n      <h2>Account Info</h2>\n      {user ? (\n        <table className={styles.table}>\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Money</th>\n          </tr>\n        </thead>\n        <tbody>\n          {user.map((user) => (\n            <tr key={user._id}>\n              <td>{user.firstName}</td>\n              <td>{user.money}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      ) : (\n        <p>Loading user data...</p>\n      )}\n      <p>\n        <button onClick={openGame}>Let's get started!</button>\n      </p>\n      <button className={styles.white_btn} onClick={handleLogout}>\n        Logout\n      </button>\n    </div>\n  );\n  \n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}